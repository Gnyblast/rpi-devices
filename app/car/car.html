<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remote Control the Car</title>
    <link href="http://cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <script src="http://code.jquery.com/jquery.js"></script>

    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

    <style type="text/css">
        #video {
            max-width: 100%;
            height: auto;
        }
        #servoleft {
            margin-top: 0px;
            margin-left: 38px;
            padding: 10px 26px;
        }

        #servoahead {
            padding: 10px 26px;
        }

        #servoright {
            padding: 10px 26px;
        }

        #forward {
            margin-top: 5px;
            margin-left: 130px;
            margin-bottom: 3px;
            padding: 16px 24px;
        }

        #left {
            margin-left: 45px;
            padding: 16px 24px;
        }

        #horn {
            padding: 16px 24px;
        }

        #right {
            padding: 16px 24px;
        }

        #backward {
            margin-top: 3px;
            margin-left: 130px;
            padding: 16px 24px;
        }
    </style>

    <script>
        var url = "http://((000.000.000.000)):8080"
        $(function () {
            var flag = false;
            // forward
            $('#forward').bind("touchstart mousedown", function (e) {
                if (!flag) {
                    flag = true;
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("forward").style.color = "yellow";
                    $.post(url, { "op": "forward" }, function (data, status) { });
                }
                return false;
            });
            $('#forward').bind("touchend mouseup", function (e) {
                if (!flag) {
                    flag = true;
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("forward").style.color = "white";
                    $.post(url, { "op": "stop" }, function (data, status) { });
                }
                return false;
            });
            // backward
            $('#backward').bind("touchstart mousedown", function (e) {
                if (!flag) {
                    flag = true;
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("backward").style.color = "yellow";
                    $.post(url, { "op": "backward" }, function (data, status) { });
                }
                return false;
            });
            $('#backward').bind("touchend mouseup", function (e) {
                if (!flag) {
                    flag = true;
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("backward").style.color = "white";
                    $.post(url, { "op": "stop" }, function (data, status) { });
                }
                return false;
            });
            // stop
            $('#stop').bind("touchstart mousedown", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("stop").style.color = "yellow";
                    $.post(url, { "op": "stop" }, function (data, status) { });
                }
                return false
            });
            $('#stop').bind("touchend mouseup", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("stop").style.color = "white";
                }
                return false
            });
            // left
            $('#left').bind("touchstart mousedown", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("left").style.color = "yellow";
                    $.post(url, { "op": "left" }, function (data, status) { });
                }
                return false
            });
            $('#left').bind("touchend mouseup", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("left").style.color = "white";
                }
                return false
            });
            // right
            $('#right').bind("touchstart mousedown", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("right").style.color = "yellow";
                    $.post(url, { "op": "right" }, function (data, status) { });
                }
                return false
            });
            $('#right').bind("touchend mouseup", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("right").style.color = "white";
                }
                return false
            });
            // horn
            $('#horn').bind("touchstart mousedown", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    $.post(url, { "op": "beep" }, function (data, status) { });
                    document.getElementById("horn").style.color = "yellow";
                }
                return false
            });
            $('#horn').bind("touchend mouseup", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("horn").style.color = "lightgray";
                }
                return false
            });
            // servoleft
            $('#servoleft').bind("touchstart mousedown", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    $.post(url, { "op": "servoleft" }, function (data, status) { });
                    document.getElementById("servoleft").style.color = "yellow";
                }
                return false
            });
            $('#servoleft').bind("touchend mouseup", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("servoleft").style.color = "lightgray";
                }
                return false
            });
            // servoahead
            $('#servoahead').bind("touchstart mousedown", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    $.post(url, { "op": "servoahead" }, function (data, status) { });
                    document.getElementById("servoahead").style.color = "yellow";
                }
                return false
            });
            $('#servoahead').bind("touchend mouseup", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("servoahead").style.color = "lightgray";
                }
                return false
            });
            // servoright
            $('#servoright').bind("touchstart mousedown", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    $.post(url, { "op": "servoright" }, function (data, status) { });
                    document.getElementById("servoright").style.color = "yellow";
                }
                return false
            });
            $('#servoright').bind("touchend mouseup", function (e) {
                if (!flag) {
                    flag = true
                    setTimeout(function(){ flag = false; }, 20);
                    document.getElementById("servoright").style.color = "lightgray";
                }
                return false
            });
            // light
            $('#light').change(function () {
                if ($(this).prop('checked')) {
                    $.post(url, { "op": "lighton" }, function (data, status) { });
                } else {
                    $.post(url, { "op": "lightoff" }, function (data, status) { });
                }
            })
            // self-driving
            $('#selfdriving').change(function () {
                if ($(this).prop('checked')) {
                    $.post(url, { "op": "selfdrivingon" }, function (data, status) { });
                } else {
                    $.post(url, { "op": "selfdrivingoff" }, function (data, status) { });
                }
            })
            // speech-driving
            $('#speechdriving').change(function () {
                if ($(this).prop('checked')) {
                    $.post(url, { "op": "speechdrivingon" }, function (data, status) { });
                } else {
                    $.post(url, { "op": "speechdrivingoff" }, function (data, status) { });
                }
            })
        });
    </script>
</head>

<body>
    <img id="video" src="http://((000.000.000.000)):8081/">
    <div id="container" class="container">
        <div>
            <button id='servoleft' class="btn btn-lg glyphicon glyphicon glyphicon-arrow-left"
                style="font-size:32px; color:lightgray"></button>
            <button id='servoahead' class="btn btn-lg glyphicon glyphicon glyphicon glyphicon-upload"
                style="font-size:32px; color:lightgray"></button>
            <button id='servoright' class="btn btn-lg glyphicon glyphicon glyphicon-arrow-right"
                style="font-size:32px; color:lightgray"></button>
        </div>
        <div>
            <button id="forward" class="btn btn-lg btn-primary glyphicon glyphicon-chevron-up"
                style="font-size:32px"></button>
        </div>
        <div>
            <button id='left' class="btn btn-lg btn-primary glyphicon glyphicon-chevron-left"
                style="font-size:32px"></button>
            <button id='horn' class="btn btn-lg btn-default glyphicon glyphicon glyphicon-volume-up"
                style="font-size:32px; color:lightgray"></button>
            <button id='right' class="btn btn-lg btn-primary glyphicon glyphicon-chevron-right"
                style="font-size:32px"></button>
        </div>
        <div>
            <button id='backward' class="btn btn-lg btn-primary glyphicon glyphicon-chevron-down"
                style="font-size:32px"></button>
        </div>
        <br /><br /><br />
        <div>
            <input id="selfdriving" type="checkbox" uncheckbox data-toggle="toggle" data-on="Self-Driving"
                data-off="Self-Driving" data-onstyle="warning" data-width="120" data-height="45">
            <input id="speechdriving" type="checkbox" uncheckbox data-toggle="toggle" data-on="Speech-Driving"
                data-off="Speech-Driving" data-onstyle="warning" data-width="130" data-height="45">
            <input id="light" type="checkbox" uncheckbox data-toggle="toggle" data-on="Light" data-off="Light"
                data-onstyle="warning" data-width="120" data-height="45">
        </div>
        <br />
    </div>
</body>

</html>